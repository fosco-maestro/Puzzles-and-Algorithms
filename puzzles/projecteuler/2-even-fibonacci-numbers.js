/**
 * Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2,
 * the first 10 terms will be:
 * 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, â€¦
 * By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of
 * the even-valued terms.
 *
 * http://projecteuler.net/project/resources/002_e3b16b7a862527d1e8f03f8ba204d6d0/002_overview.pdf
 * http://jsfiddle.net/fosco/EkEmG/
 */

(function () {
    "use strict";

    /**
     * Sum of the even-valued terms
     *
     * @param {Number} a
     * @param {Number} b
     * @returns {Number}
     */
    var sum = function(a, b) {
        /**
         * Loop
         *
         * @param {Number} a
         * @param {Number} b
         * @param {Number} sum
         * @returns {Number}
         */
        var itr = function (a, b, sum) {
            if (b > 4000000) {
                return sum;
            }

            var c = a + b;
            return itr(b, c, sum + ((c % 2) === 0 ? c : 0));
        };

        return itr(a, b, 0);
    };

    console.log(sum(1, 1)); //4613732
}());